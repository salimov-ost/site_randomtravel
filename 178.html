<!DOCTYPE html>
<html>
<head>
    <title>Случайные координаты, страны и страницы Википедии</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #eee;
            font-family: sans-serif;
        }

        #map { 
            height: 400px;
            width: 600px;
            margin: 20px 0;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
        }

        #coordinates, #countryName {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: transform 0.2s ease;
            margin: 0 5px; 
        }

        button:hover {
            transform: scale(1.1);
            background-color: #45a049;
        }

        button:active {
           transform: scale(0.9);
        }

        .rotating {
            animation: rotate 1s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>

    <div id="coordinates">Широта: -, Долгота: -</div>
    <button onclick="generateCoordinates()">Телепортируйся!</button>
    <button onclick="displayRandomCountry()">Случайная страна</button>
    <div id="countryName"></div>
    <button onclick="openRandomWikipediaPage()">Случайная страница Википедии</button>
    <div id="map"></div>

    <script>
        let map = L.map('map').setView([0, 0], 2);

        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        let marker;

        const countries = [
            "Афганистан", "Албания", "Антарктида", "Алжир", "Американское Самоа", "Андорра", "Ангола", "Антигуа и Барбуда",
            /* ... (все остальные страны) ... */
            "Южная Осетия" 
        ];

        function generateCoordinates() {
            const latitude = (Math.random() * 180) - 90;
            const longitude = (Math.random() * 360) - 180;

            document.getElementById('coordinates').textContent = 
                `Широта: ${latitude.toFixed(6)}, Долгота: ${longitude.toFixed(6)}`;

            if (marker) {
                map.removeLayer(marker);
            }

            marker = L.marker([latitude, longitude]).addTo(map);
            map.setView([latitude, longitude], 10);

            marker._icon.classList.add('rotating');
            setTimeout(() => {
                marker._icon.classList.remove('rotating');
            }, 1000);
        }

        function displayRandomCountry() {
            const randomIndex = Math.floor(Math.random() * countries.length);
            const randomCountry = countries[randomIndex];
            document.getElementById('countryName').textContent = randomCountry;
        }

        function openRandomWikipediaPage() {
            window.open("https://ru.wikipedia.org/wiki/%D0%A1%D0%BB%D1%83%D0%B6%D0%B5%D0%B1%D0%BD%D0%B0%D1%8F:%D0%A1%D0%BB%D1%83%D1%87%D0%B0%D0%B9%D0%BD%D0%B0%D1%8F_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0", "_blank");
        }
    </script>

</body>
</html>